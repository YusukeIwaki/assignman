<!DOCTYPE html>
<html>
  <head>
    <title>Assignman Admin</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    
    <style>
      body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
      .admin-container { display: flex; min-height: 100vh; }
      .sidebar { width: 250px; background: #1f2937; color: white; padding: 20px 0; }
      .logo { padding: 0 20px 30px; font-size: 24px; font-weight: bold; color: #10b981; }
      .nav-menu { list-style: none; padding: 0; margin: 0; }
      .nav-item { margin: 5px 0; }
      .nav-link { display: block; padding: 12px 20px; color: #d1d5db; text-decoration: none; transition: background 0.2s; }
      .nav-link:hover { background: #374151; color: white; }
      .nav-link.active { background: #10b981; color: white; }
      .main-content { flex: 1; padding: 20px; background: #f9fafb; }
      .content-header { margin-bottom: 30px; }
      .content-title { margin: 0; color: #111827; font-size: 28px; }
    </style>
  </head>

  <body>
    <div class="admin-container">
      <nav class="sidebar">
        <div class="logo">assignman</div>
        <ul class="nav-menu">
          <li class="nav-item">
            <%= link_to "Users", admin_users_path, class: "nav-link #{'active' if controller_name == 'users'}" %>
          </li>
          <li class="nav-item">
            <%= link_to "Projects", "#", class: "nav-link #{'active' if controller_name == 'projects'}" %>
          </li>
        </ul>
      </nav>

      <main class="main-content">
        <div class="content-header">
          <h1 class="content-title"><%= yield :title %></h1>
        </div>
        
        <% if notice %>
          <div style="background: #dcfce7; border: 1px solid #16a34a; color: #15803d; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
            <%= notice %>
          </div>
        <% end %>
        
        <% if alert %>
          <div style="background: #fef2f2; border: 1px solid #ef4444; color: #dc2626; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
            <%= alert %>
          </div>
        <% end %>
        
        <%= yield %>
      </main>
    </div>
  </body>
</html>